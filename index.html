<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
       <div class='full-height container'>
           <div class=arena>
                <div class='container title'>
                    <h2>The Rollicking Game of Rock, Paper, Scissors! </h2>
                </div>
                <div class=rules>
                    <p>The battle starts by clicking the weapon of your choice. 
                        Who reaches first five points will win the war.<br><b>RULES:</b> 
                        Paper beats Rock, Rock beats Scissors and finally, 
                        Scissors beats Paper</p>
                </div>
                <div id='buttons' class=container>
                        <button id="button" value="rock" > <b>Rock</b> </button>
                        <button id="button" value="paper"> <b>Paper</b> </button>
                        <button id="button" value="scissors"> <b>Scissors</b> </button>
                </div>
                <div class=container id='box'></div>
                <div id="choice"></div>
                <div id="results"></div>
                <div class=container id='scores'></div>
                <div id="warning"></div>
                <div id="scores"></div>
                

           </div>
       </div>
    </body>
        <script>
            // game variables
            var playerScore = 0;
            var computerScore = 0;
            var round = 0;
            
            // dom
            const container = document.querySelector('#box');
            
            const results = document.querySelector('#results');
            const scores = document.querySelector('#scores');
            const selection = document.createElement('div');
            selection.classList.add('content');

            const score = document.createElement('div');
            score.classList.add('content');
            
            
            var btn = document.querySelectorAll('button');
            btn.forEach((button) => {
                button.addEventListener('click', () => {
                   playRound(button.value);            
                });
             });    


            function computerPlay() {
                var arr = ['rock', 'paper', 'scissors'];
                var random = arr[Math.floor(Math.random()*arr.length)];
                return random;
            }
            function displayScores(){
            document.getElementById("scores").innerHTML = "Computer: " + computerScore + "\nPlayer: " + playerScore;
        }    
            
        function winConditions(){
             if (computerScore === 2 && playerScore === 2) {
                document.getElementById("warning").innerHTML ="The score is 2 - 2 this is a tie breaker!!";
             }
             else if (computerScore > 2) {
                 document.getElementById("warning").innerHTML = "Computer has won!";   
                 
                 round = 5; 
            }
             else if (playerScore > 2){
                document.getElementById("warning").innerHTML = "You won! Good job!";
                round = 5;
            } 
            // resetting scores.
            if (round === 5) {
                computerScore = 0;
                playerScore = 0;
                round = 0;
            }
        }
                
            function playRound(playerSelection) {
                computerSelection = computerPlay();
                console.log("Player: " + playerSelection);
                console.log("Computer: " + computerSelection);

                //return variables
                var cpuWin = (document.getElementById("results").innerHTML = "Computer WINS!");
                var usrWin = (document.getElementById("results").innerHTML = "Player wins the round!");
                function displayChoice() {
                 document.getElementById("choice").innerHTML = "You choose " + playerSelection + " Computer choose " + computerSelection;
             }
                
                displayChoice()
                

                 if (playerSelection === computerSelection) {
                     document.getElementById("results").innerHTML = "It's a tie!";
                }   
                 else if (playerSelection === "rock") {
                     if (computerSelection === "paper") {
                        computerScore++;
                        round++;
                        document.getElementById("results").innerHTML = "Computer wins the round!"
                    }
                    else {
                         playerScore++;
                         round++;
                         usrWin;
                    }
                }
                else if (playerSelection ===  "paper") {
                    if (computerSelection === "scissors") {
                         computerScore++;
                         round++;
                         document.getElementById("results").innerHTML = "Computer wins the round!";
                     }
                     else {
                         playerScore++;
                         round++;
                         usrWin;
                     }
                 }
                 else if (playerSelection === "scissors") {
                     if (computerSelection === "rock") {
                         computerScore++;
                         round++;
                         document.getElementById("results").innerHTML = "Computer wins the round!"
                     }
                     else {
                         playerScore++;
                         round++;
                         usrWin;
                     }
                 } 
             displayScores();
             winConditions();
            }
        </script>
    
</html>